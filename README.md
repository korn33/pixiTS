# Барабан
Приложение состоит из следующих файлов:
- app.ts - главный файл
- initialization.ts - файл с инструкциями об отрисовке статичных объектов графики, кнопки и счетчика FPS.
- DrumClass.ts - описание методов и свойств барабанов
- run.ts - алгоритмы вращения барабанов, в котором есть две основных функции. 
`rotation.run()`, отвечающая за ускорение, вращение и 
остановку барабанов и `rotation.correctRun()`, 
с алгоритмом определения результата вращения, 
выставления иконок результата в центре барабана 
и выводом сообщения о результате.
-  property.ts - фаил с настройками приложения.

Приложение поддерживает разные диагонали.

В настройках приложения в массиве `allImgInApp.links` 
указываются все текстуры приложения. Объект `prop` 
содержит все основные переменные, на основе которых проходит 
расчет остальных параметров. 
Все нижеследующие свойства приводятся в нем.

- `btnStart` - объект с полями `width` и `height` размеров кнопки 
запуска. Используется при расчете положения 
нижерасположеных объектов
- `simbols.size` - размеры иконок. Под это значение ужимаются
 текстуры используемых картинок. Все картинки становятся
  квадратными и одного размера. Параметр используется при расчете
  положений и отступов объектов, движения спрайтов
 - `listSimbols` - двумерный массив `[i][j]` с адресами текстур, 
 в котором `i` - барабан, `j` - список текстур для иконок 
 барабана `i`. Число барабанов в приложении выставляется 
 автоматически в зависимости от `listSimbols.length` (по умолчанию 5), количество иконок, 
 их порядок и текстуры определяется из массива `j`. 
 По умолчанию `j = allImgInApp.links.slice(3)`, нулевой символ 
 в `allImgInApp.links` - "новый символ", первый и второй - 
 текстуры для кнопки. Текстуры сюда можно добавлять через
  различные переменные, поддерживаются методы массивов. 
  Если требуется тонкая настройка порядка и/или количества 
  символов на конкретном барабане, текстуры для этого барабана
    можно указать текстом
- объект `drum` с настройками вращения барабанов: 
    - `startSpeed` - стартовая скорость
    - `minTimeOfRotate` и `maxTimeOfRotate` - 
    диапазон из которого случайным образом определяется 
    время вращения
    - `maxSpeed` - максимальная скорость вращения
    - `acceleration` - ускорение разгона
    - `reversAcceleration` - обратное ускорение торможения
    - `speedForCorrected` - скорость расстановки 
    барабанов в центральное положение по окончании вращения
    - `rotationalDelayFactor` - коэффициент задержки 
    между последовательным началом торможения барабанов

По умолчанию все эти параметры подобраны так, 
чтобы общее время вращения пяти барабанов было 4-5 секунд.

Комментарии по алгоритмам приведены внутри исходного кода.